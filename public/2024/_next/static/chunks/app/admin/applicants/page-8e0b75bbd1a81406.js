(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[472],{9923:function(e,t,a){Promise.resolve().then(a.bind(a,8414))},8414:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var l=a(7437),i=a(2265),r=a(1961),n=a(36),s=a(512),o=a(7147),c=a(144),d=a(3995),u=a(8433),h=a(6285),m=a(8818),p=a(8121),b=a(3268);function f(e){let{open:t,handleClose:a,applicant:i}=e,r=[{label:"First Name",value:i.firstName},{label:"Last Name",value:i.lastName},{label:"Email",value:i.email},{label:"Phone Number",value:i.phoneNumber},{label:"Age",value:i.age},{label:"Gender",value:i.gender},{label:"Pronouns",value:i.pronouns},{label:"Ethnicity",value:i.ethnicity},{label:"Address",value:i.address},{label:"City",value:i.city},{label:"State",value:i.state},{label:"Country",value:i.country},{label:"Zip Code",value:i.zipCode},{label:"School",value:i.school},{label:"College Year",value:i.collegeYear},{label:"Major",value:i.major},{label:"Education Level",value:i.educationLevel},{label:"Diet",value:i.diet},{label:"Other Diet",value:i.otherDiet},{label:"Shirt Size",value:i.shirtSize},{label:"Sleep Accommodations",value:i.sleep},{label:"Excitement about BostonHacks",value:i.bostonhacks},{label:"Track Interest",value:i.trackInterest},{label:"Resume URL",value:i.resumeUrl},{label:"Status",value:i.status},{label:"Submitted At",value:i.submittedAt?i.submittedAt.toDate().toString():"N/A"}];return(0,l.jsxs)(n.Z,{open:t,onClose:a,fullWidth:!0,maxWidth:"sm",children:[(0,l.jsx)(s.Z,{style:{backgroundColor:"#252526",color:"white"},children:"Applicant Details"}),(0,l.jsx)(o.Z,{style:{backgroundColor:"#252526",color:"white"},children:(0,l.jsx)(c.Z,{children:r.map(e=>{let{label:t,value:a}=e;return(0,l.jsx)(d.ZP,{style:{color:"white"},children:(0,l.jsx)(u.Z,{primary:t,secondary:a||"N/A",primaryTypographyProps:{style:{color:"white"}},secondaryTypographyProps:{style:{color:"white"}}})},t)})})})]})}function g(){let[e,t]=(0,i.useState)([]),[a,n]=(0,i.useState)(!1),[s,o]=(0,i.useState)({}),[c,d]=(0,i.useState)({applied:0,rejected:0,accepted:0,waitlisted:0,confirmed:0});(0,i.useEffect)(()=>{(async()=>{try{let e=(await (0,p.PL)((0,p.hJ)(m.db,"applications"))).docs.map(e=>({...e.data(),id:e.id}));t(e);let a={applied:e.length,rejected:e.filter(e=>"Rejected"===e.status).length,accepted:e.filter(e=>"Accepted"===e.status).length,waitlisted:e.filter(e=>"Waitlisted"===e.status).length,confirmed:e.filter(e=>"Confirmed"===e.status).length};d(a)}catch(e){console.error("Error fetching applicants:",e)}})()},[]);let u=e=>{o(e),n(!0)},g=async(a,l)=>{try{let i=(0,p.JU)(m.db,"applications",a),r=e.find(e=>e.id===a),n=null==r?void 0:r.status;await (0,p.r7)(i,{status:l}),t(e=>e.map(e=>e.id===a?{...e,status:l}:e)),d(e=>{let t={...e};return n&&(t[n.toLowerCase()]=e[n.toLowerCase()]-1),t[l.toLowerCase()]=(e[l.toLowerCase()]||0)+1,t})}catch(e){console.error("Failed to update status:",e)}},x={backgroundColor:"#252526",borderRadius:"8px",margin:"1rem",padding:"1rem",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",color:"white"};return(0,l.jsx)(b.Z,{children:(0,l.jsxs)("main",{style:{backgroundColor:"#1E1E1E",color:"white",minHeight:"100vh",padding:"2rem"},children:[(0,l.jsx)("div",{style:{...x,display:"flex",justifyContent:"space-between",alignItems:"center"},children:Object.entries(c).map(e=>{let[t,a]=e;return(0,l.jsxs)("div",{className:"shadow-lg rounded-lg p-5 flex flex-col items-center justify-center",children:[(0,l.jsx)("span",{className:"text-lg font-semibold",children:t.charAt(0).toUpperCase()+t.slice(1)}),(0,l.jsx)("span",{className:"text-2xl font-bold",children:a})]},t)})}),(0,l.jsxs)("div",{style:x,children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-center mb-5",children:"Applications"}),(0,l.jsx)(r._,{rows:e,columns:[{field:"id",headerName:"ID",flex:.5},{field:"firstName",headerName:"First Name",flex:1},{field:"lastName",headerName:"Last Name",flex:1},{field:"email",headerName:"Email",flex:1},{field:"school",headerName:"School",flex:1},{field:"major",headerName:"Major",flex:1},{field:"status",headerName:"Status",flex:1},{field:"actions",headerName:"Actions",sortable:!1,flex:2,renderCell:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{variant:"contained",color:"primary",style:{backgroundColor:"#1976D2",color:"white",marginRight:8},onClick:()=>u(e.row),children:"View"}),(0,l.jsx)(h.Z,{variant:"contained",style:{backgroundColor:"#4CAF50",color:"white",marginRight:8},onClick:()=>g(e.id,"Accepted"),children:"Accept"}),(0,l.jsx)(h.Z,{variant:"contained",style:{backgroundColor:"#F44336",color:"white",marginRight:8},onClick:()=>g(e.id,"Rejected"),children:"Reject"}),(0,l.jsx)(h.Z,{variant:"contained",style:{backgroundColor:"#FF9800",color:"white"},onClick:()=>g(e.id,"Waitlisted"),children:"Waitlist"})]})}],pageSizeOptions:[5,10,25,50,100],initialState:{pagination:{paginationModel:{pageSize:25}}},disableSelectionOnClick:!0,className:"bg-white",autoHeight:!0})]}),(0,l.jsx)(f,{open:a,handleClose:()=>{n(!1)},applicant:s})]})})}},3268:function(e,t,a){"use strict";var l=a(7437),i=a(2265),r=a(7907),n=a(2730),s=a(8818),o=a(8121);t.Z=e=>{let{children:t}=e,[a,c]=(0,i.useState)(!0),d=(0,r.useRouter)();(0,i.useEffect)(()=>{let e=(0,n.Aj)(s.I8,async e=>{e&&await u(e.email)?c(!1):d.push("/admin/login")});return()=>e()},[d]);let u=async e=>{let t=(0,o.JU)(s.db,"admin",e);return(await (0,o.QT)(t)).exists()};return a?(0,l.jsx)("div",{children:"Loading..."}):t}},8818:function(e,t,a){"use strict";a.d(t,{I8:function(){return o},Vv:function(){return u},db:function(){return c},tO:function(){return d}});var l=a(6142),i=a(2730),r=a(8121),n=a(4905);let s=(0,l.ZF)({apiKey:"AIzaSyDxN0BfrPW5oEJxOoIYXjn4-0BTru8d1qo",authDomain:"bhacks-2024.firebaseapp.com",projectId:"bhacks-2024",storageBucket:"bhacks-2024.appspot.com",messagingSenderId:"467509416161",appId:"1:467509416161:web:1cb17aa19bc08d384a67a0",measurementId:"G-N1CKCGF5RV"}),o=(0,i.v0)(s),c=(0,r.ad)(s),d=(0,n.cF)(s),u=new i.hJ}},function(e){e.O(0,[358,67,157,658,656,978,254,378,971,69,744],function(){return e(e.s=9923)}),_N_E=e.O()}]);