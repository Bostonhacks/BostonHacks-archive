(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{8555:function(e,t,n){Promise.resolve().then(n.bind(n,1114))},1114:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437),a=n(2265),o=n(7907),u=n(2730),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(e){return{loading:null==e,value:e}},l=function(e){var t=e?e():void 0,n=(0,a.useReducer)(function(e,t){switch(t.type){case"error":return i(i({},e),{error:t.error,loading:!1,value:void 0});case"reset":return s(t.defaultValue);case"value":return i(i({},e),{error:void 0,loading:!1,value:t.value});default:return e}},s(t)),r=n[0],o=n[1],u=(0,a.useCallback)(function(){o({type:"reset",defaultValue:e?e():void 0})},[e]),l=(0,a.useCallback)(function(e){o({type:"error",error:e})},[]),c=(0,a.useCallback)(function(e){o({type:"value",value:e})},[]);return(0,a.useMemo)(function(){return{error:r.error,loading:r.loading,reset:u,setError:l,setValue:c,value:r.value}},[r.error,r.loading,u,l,c,r.value])},c=function(e,t){var n=l(function(){return e.currentUser}),r=n.error,o=n.loading,i=n.setError,s=n.setValue,c=n.value;return(0,a.useEffect)(function(){var n=(0,u.Aj)(e,function(e){var n,r,a,o;return n=void 0,r=void 0,a=void 0,o=function(){return function(e,t){var n,r,a,o,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(a=(a=u.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){u.label=o[1];break}if(6===o[0]&&u.label<a[1]){u.label=a[1],a=o;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(o);break}a[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,function(n){switch(n.label){case 0:if(!(null==t?void 0:t.onUserChanged))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return n.sent(),[3,4];case 3:return i(n.sent()),[3,4];case 4:return s(e),[2]}})},new(a||(a=Promise))(function(e,t){function u(e){try{s(o.next(e))}catch(e){t(e)}}function i(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):((n=t.value)instanceof a?n:new a(function(e){e(n)})).then(u,i)}s((o=o.apply(n,r||[])).next())})},i);return function(){n()}},[e]),[c,o,r]},d=n(8818),p=n(8121);n(703);let f=["Submitted","Waitlisted","Rejected","Declined","Confirmed","Accepted","Checked In"];var h=()=>{let[e,t]=c(d.I8),[n,u]=(0,a.useState)({}),i=(0,o.useRouter)(),s=async e=>{let t=(0,p.JU)(d.db,"applications",e);await (0,p.r7)(t,{status:"Confirmed"}),u({...n,status:"Confirmed"})},l=async e=>{let t=(0,p.JU)(d.db,"applications",e);await (0,p.r7)(t,{status:"Declined"}),u({...n,status:"Declined"})};return(0,a.useEffect)(()=>{if(t)return;if(!e)return i.push("/login");let n=(0,p.IO)((0,p.hJ)(d.db,"applications"),(0,p.ar)("uid","==",null==e?void 0:e.uid)),r=(0,p.cf)(n,t=>{t.empty?(0,p.ET)((0,p.hJ)(d.db,"applications"),{uid:e.uid,authProvider:"google",email:e.email,status:"Not Started"}).then(t=>{u({uid:e.uid,status:"Not Started"})}):u({...t.docs[0].data(),id:t.docs[0].id})},e=>{console.error("Error fetching application:",e)});return()=>r()},[e,t,i]),(0,r.jsx)("div",{className:"flex justify-center items-center h-screen  text-white",children:(0,r.jsxs)("div",{className:"w-full max-w-3xl bg-black bg-opacity-70 p-8 rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-center text-4xl font-bold mb-6 font-ppSupplyMono",children:"Your Application Status"}),(null==n?void 0:n.status)==="Not Started"&&(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("h3",{className:"text-2xl",children:"You haven't started your application yet."})}),(null==n?void 0:n.status)==="Submitted"&&(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-2xl font-ppSupplyMono",children:"Thank you for applying to BostonHacks 2024!"}),(0,r.jsx)("p",{children:"We will review your application and update you when decisions are released."})]}),(null==n?void 0:n.status)==="Accepted"&&(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-2xl font-ppSupplyMono",children:"Congratulations! You have been accepted to BostonHacks 2024!"}),(0,r.jsx)("p",{children:"Please confirm your attendance:"}),(0,r.jsxs)("div",{className:"mt-4 space-x-4",children:[(0,r.jsx)("button",{className:"bg-green-500 hover:bg-green-700 text-white font-ppSupplyMono py-2 px-4 rounded",onClick:()=>s(null==n?void 0:n.id),children:"I Confirm"}),(0,r.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-ppSupplyMono py-2 px-4 rounded",onClick:()=>l(null==n?void 0:n.id),children:"I Decline"})]})]}),f.includes(null==n?void 0:n.status)&&(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-lg font-bold",children:["Current Status: ",(0,r.jsx)("span",{className:"text-emerald-400",children:null==n?void 0:n.status})]})})]})})}},8818:function(e,t,n){"use strict";n.d(t,{I8:function(){return s},Vv:function(){return d},db:function(){return l},tO:function(){return c}});var r=n(6142),a=n(2730),o=n(8121),u=n(4905);let i=(0,r.ZF)({apiKey:"AIzaSyDxN0BfrPW5oEJxOoIYXjn4-0BTru8d1qo",authDomain:"bhacks-2024.firebaseapp.com",projectId:"bhacks-2024",storageBucket:"bhacks-2024.appspot.com",messagingSenderId:"467509416161",appId:"1:467509416161:web:1cb17aa19bc08d384a67a0",measurementId:"G-N1CKCGF5RV"}),s=(0,a.v0)(i),l=(0,o.ad)(i),c=(0,u.cF)(i),d=new a.hJ},7907:function(e,t,n){"use strict";var r=n(5313);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[358,67,703,157,971,69,744],function(){return e(e.s=8555)}),_N_E=e.O()}]);